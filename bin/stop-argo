#!/bin/bash

SELF=$(basename $0)

function usage
{
  echo "Usage: $SELF [-d|--destroy]"
}

# make sure we are talking to minikube and not some other environment
kubectl config use-context minikube

DELETE=false

while [[ $# -gt 0 ]]
do
key="$1"

case $key in
  -d|--destroy)
  DELETE=true
  shift
  ;;
  *)
  usage
  exit 1
  ;;
esac
done

minikube stop

if [ "$DELETE" = true ]
  then
    kubectl delete namespaces argo
    minikube delete
fi



